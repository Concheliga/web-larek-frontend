# 3 курс
# Килин Максим Сергеевич
# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом
- src/types/ — папка с типами
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
```
npm install
npm run start
```
или
```
yarn
yarn start
```
## Сборка
```
npm run build
```
или
```
yarn build
```
## Архитектура

В проекте реализован паттерн MVP

- Model - работает с данными, проводит вычисления и руководит всеми бизнес-процессами.
- View - показывает пользователю интерфейс и данные из модели.
- Presenter - Связывает Model и View, обрабатывает пользовательский ввод и события.

## Базовый код

- Класс EventEmitter

Реализует паттерн "Наблюдатель". Обеспечивает работу событий. Функции: возможность установить и снять слушатели событий.

Методы класса: 
    - on — для подписки на событие, 
    - off — для отписки от события
    - emit  — для уведомления подписчиков о наступлении события


- Класс Api

Класс для выполнения HTTP-запросов.

Класс имеет ключевые методы:
    - get - для выполнения GET запросов
    - post - для выполнения POST запросов


## Компоненты модели данных

- ModalModel - абстрактная модель данных модальных окон, позволяет открывать и закрывать их

- Products - модель для управлением товарами внутри каталога

- Basket - модель для управления товарами внутри корзины

- Order - модель для управления данными внутри заказа

- Contacts - модель для контактов, позволяет изменять состояние модального окна контактов

- Success - модель для успешной покупки, позволяет изменять состояние модального окна успешной покупки


## Компоненты представления

- View - абстрактное представление

- ProductListView - представление каталога товаров

- ProductView - представление карточки товара

- ModalWindowView - представление обертки модальных окон

- BasketView - представление корзины товаров

- PaymentView - представление окна с способом оплаты и доставки

- ContactsView - представление окна с контактами

- SuccessView - представление успешно офрмленного заказа


## Презентеры

- ProductListPresenter - презентер каталога товаров

- BasketPresenter - презентер корзины

- ProductPresenter - презентер карточки товара

- OrderPresenter - презентер заказа

- ContactsPresenter - презентер контактов

- SuccessPresenter - презентер успешной покупки


## Ключевые типы данных

```
type ID = string;

// товар
type Product = {
    id: ID;                 // идентефикатор
    name: string;          // название
    description: string;    // описание
    img: string;          // ссылка на изображение
    category: string;       // категория
    price: number | null;   // цена
}

// список товаров
type ProductList = {
    total: number;             // количество товаров в списке
    items: Product[]           // товары
}

// заказ
type Order = {
    payment: string;            // тип оплаты
    address: string;            // адрес доставки
    phone: string;              // номер телефона
    email: string;              // email
    amount: number;              // сумма заказа
    items: ID[];                // идентификаторы товаров
}

// ответ на заказ
type OrderResponse = {
    id: ID;                     // идентификатор
    amount: number;              // сумма
}
```